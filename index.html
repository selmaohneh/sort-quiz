<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sort Quiz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;400;600;800&family=Nunito:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="app">
      <header class="app-header">
        <div class="brand">
          <div class="logo">ðŸ’¡</div>
          <div class="titles">
            <h1>Sort Quiz</h1>
          </div>
        </div>
        <div class="controls">
          <button id="newGameBtn" class="btn ghost" title="Back to start">New Game</button>
        </div>
      </header>

      <main>
        <input id="fileInput" type="file" accept="application/json" hidden />

        <!-- Carousel of ready-made quizzes -->
        <section class="panel" id="carouselPanel">
          <div class="carousel-card" id="carouselCard">
            <div class="carousel-header">Readyâ€‘made quizzes</div>
            <div class="carousel-viewport">
              <div class="carousel-track" id="carouselTrack"></div>
            </div>
            <div class="carousel-hint">Click a card to start</div>
          </div>
        </section>
        
        <section id="landing" class="panel">
          <div class="hero">
            <h2>Make your own sort quiz</h2>
            <p class="lead">Bring your own data and play right away. Download the template, fill it with your items in order, then upload to start a new game.</p>
            <div class="cta-row">
              <button id="downloadTemplateBtn2" class="btn secondary">Download Template</button>
              <label for="fileInput" class="btn primary">Upload and Start Quiz</label>
            </div>
            <details class="hint within-step">
              <summary>Template example</summary>
              <pre class="code-sample">{
  "title": "Animal sizes",
  "lowerLabel": "Small",
  "upperLabel": "Big",
  "_hint": "List at least 2 items from lowerLabel â†’ upperLabel (Small â†’ Big). Max 20 items.",
  "items": [
    "Ant",
    "Spider",
    "Mouse",
    "Raven",
    "Cat",
    "Dog",
    "Elephant"
  ]
}</pre>
            </details>
          </div>
        </section>

        <section id="game" class="panel hidden">
          <div class="game-header center">
            <h2 id="gameTitle">Title</h2>
          </div>

          <div class="game-grid">
            <div class="left-column">
              <div class="tray-card">
                <div class="tray-title">Remaining Items</div>
                <div class="tray" id="tray"></div>
                <div class="hint-row" id="hintRow"></div>
              </div>
            </div>

            <div class="right-column">
              <div class="timeline-card">
                <div class="timeline-label" id="upperLabel">Upper</div>
                <div class="timeline" id="timeline"></div>
                <div class="timeline-label" id="lowerLabel">Lower</div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <dialog id="errorModal" class="modal">
        <div class="modal-content">
          <h3>Invalid File</h3>
          <p id="errorMessage">The uploaded file format is invalid.</p>
          <div class="modal-actions">
            <button id="closeErrorBtn" class="btn primary">Close</button>
          </div>
        </div>
      </dialog>

      <script>
        // Embedded manifest and quizzes to allow offline (file://) carousel
        window.EMBEDDED_MANIFEST = [
          { "path": "quizzes/earnings_movies.json", "title": "Movie Box Office (Top Earnings)" },
          { "path": "quizzes/selled_music_albums.json", "title": "Best-Selling Music Albums" },
          { "path": "quizzes/bundesliga2024.json", "title": "Bundesliga 2024" },
          { "path": "quizzes/countries_goldmedals.json", "title": "Olympic Gold Medals by Country" },
          { "path": "quizzes/chess_worldchampions.json", "title": "Chess World Champions" },
          { "path": "quizzes/history_events.json", "title": "World History Events" },
          { "path": "quizzes/country_populations.json", "title": "Country Populations" }
        ];
        window.EMBEDDED_QUIZZES = {
          "quizzes/earnings_movies.json": {"title":"Highest-Grossing Movies","lowerLabel":"Lower Earnings","upperLabel":"Highest Earnings","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["The Lion King (2019)","Jurassic World","Spider-Man: No Way Home","Avengers: Infinity War","Star Wars: The Force Awakens","Titanic","Avatar: The Way of Water","Avengers: Endgame","Avatar"]},
          "quizzes/selled_music_albums.json": {"title":"Best Selling Music Albums","lowerLabel":"Fewer Sales","upperLabel":"Most Sales","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["Come On Over - Shania Twain","Rumours - Fleetwood Mac","Saturday Night Fever - Bee Gees","Their Greatest Hits - Eagles","Back in Black - AC/DC","The Dark Side of the Moon - Pink Floyd","The Bodyguard (Soundtrack) - Whitney Houston","Thriller - Michael Jackson"]},
          "quizzes/bundesliga2024.json": {"title":"Bundesliga 2023/24 Rankings","lowerLabel":"Lower Rank","upperLabel":"Champion","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["VfL Bochum","Holstein Kiel","1. FC Heidenheim","TSG 1899 Hoffenheim","FC St. Pauli","1. FC Union Berlin","FC Augsburg","VfL Wolfsburg","Borussia MÃ¶nchengladbach","VfB Stuttgart","Werder Bremen","RB Leipzig","1. FSV Mainz 05","SC Freiburg","Borussia Dortmund","Eintracht Frankfurt","Bayer 04 Leverkusen","FC Bayern MÃ¼nchen"]},
          "quizzes/countries_goldmedals.json": {"title":"Countries with Most Olympic Gold Medals","lowerLabel":"Fewer Gold Medals","upperLabel":"Most Gold Medals","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["Hungary","Netherlands","Japan","China","France","Germany","Italy","Sweden","Russia","Great Britain","United States"]},
          "quizzes/chess_worldchampions.json": {"title":"Chess World Champions","lowerLabel":"Earliest","upperLabel":"Most recent","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["Wilhelm Steinitz","Emanuel Lasker","JosÃ© RaÃºl Capablanca","Alexander Alekhine","Max Euwe","Mikhail Botvinnik","Vasily Smyslov","Mikhail Tal","Tigran Petrosian","Boris Spassky","Bobby Fischer","Anatoly Karpov","Garry Kasparov","Vladimir Kramnik","Viswanathan Anand","Magnus Carlsen","Ding Liren","Gukesh Dommaraju"]},
          "quizzes/history_events.json": {"title":"Famous history events","lowerLabel":"Early","upperLabel":"Modern","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["Birth of major civilizations","Ancient Egypt builds pyramids","Code of Hammurabi created","Roman Empire rises","Spread of Christianity","Islam founded","Mongol Empire expands","Black Death in Europe","Renaissance begins","Columbus discovers America","Protestant Reformation","Industrial Revolution","American Revolution","French Revolution","World War I","Russian Revolution","World War II","United Nations founded","Moon landing","Internet age begins"]},
          "quizzes/country_populations.json": {"title":"Country populations","lowerLabel":"Small","upperLabel":"Big","_hint":"List at least 2 items from lowerLabel â†’ upperLabel. Max 20 items.","items":["Bangladesh","Brazil","Ethiopia","DR Congo","Nigeria","Pakistan","Indonesia","United States","China","India"]}
        };
      </script>
      <script src="./app.js"></script>
    </div>
  </body>
</html> 