<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sort Quiz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;400;600;800&family=Nunito:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
    <meta name="google-adsense-account" content="ca-pub-5845633849679297">
  </head>
  <body>
    <div id="app">
      <header class="app-header">
        <div class="brand">
          <div class="logo">ğŸ’¡</div>
          <div class="titles">
            <h1>Sort Quiz</h1>
          </div>
        </div>
        <div class="controls">
          <a class="icon-btn gh" href="https://github.com/selmaohneh/sort-quiz" target="_blank" rel="noopener" aria-label="View on GitHub">
            <svg viewBox="0 0 16 16" aria-hidden="true" focusable="false">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
          </a>
          <button id="newGameBtn" class="btn ghost" title="Back to start">New Game</button>
        </div>
      </header>

      <main>
        <input id="fileInput" type="file" accept="application/json" hidden />

                <section id="landing" class="panel">
          <div class="hero">
            <div class="hero-icon">ğŸ¯</div>
            <h2>Create a Sort Game for Your Next Pub Quiz</h2>
            <p class="hero-subtitle">Who's the first to guess wrong?</p>
            <p class="lead">Turn any ordered list into an exciting multiplayer guessing game. Perfect for pub quizzes, parties, or challenging your friends' knowledge!</p>
            
            <div class="how-to-play">
              <h3>ğŸ® How to Play</h3>
              <div class="play-steps">
                <div class="play-step">
                  <span class="step-number">1</span>
                  <span>Multiple players take turns selecting an item</span>
                </div>
                <div class="play-step">
                  <span class="step-number">2</span>
                  <span>Try to place it in the correct position on the timeline</span>
                </div>
                <div class="play-step">
                  <span class="step-number">3</span>
                  <span>First person to make a mistake loses!</span>
                </div>
              </div>
              <div class="play-hint">
                ğŸ’¡ <strong>Best Experience:</strong> Plays best on desktop in full screen for optimal visibility and interaction.
              </div>
            </div>

            <div class="create-section">
              <h3>ğŸ› ï¸ Create Your Quiz</h3>
              <div class="create-steps">
                <div class="create-step">
                  <div class="step-icon">ğŸ“</div>
                  <div class="step-content">
                    <strong>1. Download the template</strong>
                    <p>Get our JSON template file to start building your quiz</p>
                  </div>
                </div>
                <div class="create-step">
                  <div class="step-icon">âœï¸</div>
                  <div class="step-content">
                    <strong>2. Fill in your data</strong>
                    <p>Add your title, labels, and items in the correct order (2-20 items)</p>
                  </div>
                </div>
                <div class="create-step">
                  <div class="step-icon">ğŸš€</div>
                  <div class="step-content">
                    <strong>3. Upload and play</strong>
                    <p>Upload your file and start the game immediately</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="cta-row">
              <button id="downloadTemplateBtn2" class="btn primary large">ğŸ“ Download Template</button>
              <label for="fileInput" class="btn secondary large">ğŸš€ Upload Your Quiz</label>
            </div>
            
            <details class="template-example">
              <summary>ğŸ“‹ Template Example</summary>
              <pre class="code-sample">{
  "title": "Animal sizes",
  "lowerLabel": "Small",
  "upperLabel": "Big",
  "_hint": "List at least 2 items from lowerLabel â†’ upperLabel (Small â†’ Big). Max 20 items.",
  "items": [
    "Ant",
    "Spider",
    "Mouse",
    "Raven",
    "Cat",
    "Dog",
    "Elephant"
  ]
}</pre>
              <p class="template-hint">ğŸ’¡ <strong>Pro tip:</strong> Great quiz ideas include movie earnings, historical events, sports rankings, country populations, or anything with a clear order!</p>
            </details>
          </div>
        </section>

        <!-- Community quizzes -->
        <section class="panel" id="carouselPanel">
          <div class="carousel-card" id="carouselCard">
            <div class="carousel-header">ğŸŒŸ Try Community Quizzes</div>
            <p class="carousel-description">Get inspired by quizzes created by other users. Quick games to test these concepts!</p>
            <div class="carousel-viewport">
              <div class="carousel-track" id="carouselTrack"></div>
            </div>
            <div class="carousel-footer">
              <div class="carousel-hint">ğŸ‘† Click a card to start playing</div>
              <div class="community-info">
                <p class="community-text">
                  <strong>ğŸ“¤ Share Your Quiz:</strong> Found more quiz files or want to contribute? 
                  <a href="https://github.com/selmaohneh/sort-quiz/tree/master/quizzes" target="_blank" rel="noopener">
                    Visit our GitHub repository
                  </a> to explore more quizzes and submit your own creations!
                </p>
              </div>
            </div>
          </div>
        </section>
        
        <section id="game" class="panel hidden">
          <div class="game-header center">
            <h2 id="gameTitle">Title</h2>
          </div>

          <div class="game-grid">
            <div class="left-column">
              <div class="tray-card">
                <div class="tray-title">Remaining Items</div>
                <div class="tray" id="tray"></div>
                <div class="hint-row" id="hintRow"></div>
              </div>
            </div>

            <div class="right-column">
              <div class="timeline-card">
                <div class="timeline-label" id="upperLabel">Upper</div>
                <div class="timeline" id="timeline"></div>
                <div class="timeline-label" id="lowerLabel">Lower</div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <dialog id="errorModal" class="modal">
        <div class="modal-content">
          <h3>Invalid File</h3>
          <p id="errorMessage">The uploaded file format is invalid.</p>
          <div class="modal-actions">
            <button id="closeErrorBtn" class="btn primary">Close</button>
          </div>
        </div>
      </dialog>

      <script>
        // Embedded manifest and quizzes to allow offline (file://) carousel
        window.EMBEDDED_MANIFEST = [
          { "path": "quizzes/animal_long_jump.json", "title": "Animal Long Jump Distances" },
          { "path": "quizzes/most_100_billboard_entries.json", "title": "Most Billboard Hot 100 Entries" }
        ];
        window.EMBEDDED_QUIZZES = {
          "quizzes/animal_long_jump.json": {"title":"Animal Long Jump Distances","lowerLabel":"Short","upperLabel":"Long","_hint":"List at least 2 items from lowerLabel â†’ upperLabel (Short â†’ Long). Max 20 items.","items":["Flea","Wood mouse","Least weasel","Frog","Grasshopper","Jerboa","Fox","Lion","Tiger","Human (World Record)","Kangaroo","Red deer"]},
          "quizzes/most_100_billboard_entries.json": {"title":"Most Billboard Hot 100 Entries","lowerLabel":"Few","upperLabel":"Many","_hint":"List at least 2 items from lowerLabel â†’ upperLabel (Few â†’ Many). Max 20 items.","items":["Quavo","Elton John","The Beatles","Travis Scott","Ray Charles","BeyoncÃ©","Eminem","James Brown","Michael Jackson","Justin Bieber","Chris Brown","Jay-Z","Kanye West","Nicki Minaj","Future","Taylor Swift","Elvis Presley","Lil Wayne","Glee Cast","Drake"]}
        };
      </script>
      <script src="./app.js"></script>
    </div>
  </body>
</html> 