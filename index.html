<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sort Quiz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@300;400;600;800&family=Nunito:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css" />
   
  </head>
  <body>
    <div id="app">
      <header class="app-header">
        <div class="brand">
          <div class="logo">üí°</div>
          <div class="titles">
            <h1>Sort Quiz</h1>
          </div>
        </div>
        <div class="controls">
          <a class="icon-btn gh" href="https://github.com/selmaohneh/sort-quiz" target="_blank" rel="noopener" aria-label="View on GitHub">
            <svg viewBox="0 0 16 16" aria-hidden="true" focusable="false">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
          </a>
          <button id="newGameBtn" class="btn ghost" title="Back to start">New Game</button>
        </div>
      </header>

      <main>
        <input id="fileInput" type="file" accept="application/json" hidden />

                <section id="landing" class="panel">
          <div class="hero">
            <div class="hero-icon">üéØ</div>
            <h2>Create a Sort Game for Your Next Pub Quiz</h2>
            <p class="hero-subtitle">Who's the first to guess wrong?</p>
            <p class="lead">Turn any ordered list into an exciting multiplayer guessing game. Perfect for pub quizzes, parties, or challenging your friends' knowledge!</p>
            
            <div class="how-to-play">
              <h3>üéÆ How to Play</h3>
              <div class="play-steps">
                <div class="play-step">
                  <span class="step-number">1</span>
                  <span>Multiple players take turns selecting an item</span>
                </div>
                <div class="play-step">
                  <span class="step-number">2</span>
                  <span>Try to place it in the correct position on the timeline</span>
                </div>
                <div class="play-step">
                  <span class="step-number">3</span>
                  <span>First person to make a mistake loses!</span>
                </div>
              </div>
            </div>

            <div class="create-section">
              <h3>üõ†Ô∏è Create Your Quiz</h3>
              <div class="create-steps">
                <div class="create-step">
                  <div class="step-icon">üìù</div>
                  <div class="step-content">
                    <strong>1. Download the template</strong>
                    <p>Get our JSON template file to start building your quiz</p>
                  </div>
                </div>
                <div class="create-step">
                  <div class="step-icon">‚úèÔ∏è</div>
                  <div class="step-content">
                    <strong>2. Fill in your data</strong>
                    <p>Add your title, labels, and items in the correct order (2-20 items)</p>
                  </div>
                </div>
                <div class="create-step">
                  <div class="step-icon">üöÄ</div>
                  <div class="step-content">
                    <strong>3. Upload and play</strong>
                    <p>Upload your file and start the game immediately</p>
                  </div>
                </div>
              </div>
            </div>

            <div class="cta-row">
              <button id="downloadTemplateBtn2" class="btn primary large">üìù Download Template</button>
              <label for="fileInput" class="btn secondary large">üöÄ Upload Your Quiz</label>
            </div>
            
            <details class="template-example">
              <summary>üìã Template Example</summary>
              <pre class="code-sample">{
  "title": "Animal sizes",
  "lowerLabel": "Small",
  "upperLabel": "Big",
  "_hint": "List at least 2 items from lowerLabel ‚Üí upperLabel (Small ‚Üí Big). Max 20 items.",
  "items": [
    "Ant",
    "Spider",
    "Mouse",
    "Raven",
    "Cat",
    "Dog",
    "Elephant"
  ]
}</pre>
              <p class="template-hint">üí° <strong>Pro tip:</strong> Great quiz ideas include movie earnings, historical events, sports rankings, country populations, or anything with a clear order!</p>
            </details>
          </div>
        </section>

        <!-- Community quizzes -->
        <section class="panel" id="carouselPanel">
          <div class="carousel-card" id="carouselCard">
            <div class="carousel-header">üåü Try Community Quizzes</div>
            <p class="carousel-description">Get inspired by quizzes created by other users. Quick games to test these concepts!</p>
            <div class="carousel-viewport">
              <div class="carousel-track" id="carouselTrack"></div>
            </div>
            <div class="carousel-footer">
              <div class="carousel-hint">üëÜ Click a card to start playing</div>
              <div class="community-info">
                <p class="community-text">
                  <strong>üì§ Share Your Quiz:</strong> Found more quiz files or want to contribute? 
                  <a href="https://github.com/selmaohneh/sort-quiz/tree/master/quizzes" target="_blank" rel="noopener">
                    Visit our GitHub repository
                  </a> to explore more quizzes and submit your own creations!
                </p>
              </div>
            </div>
          </div>
        </section>
        
        <section id="game" class="panel hidden">
          <div class="game-header center">
            <h2 id="gameTitle">Title</h2>
          </div>

          <div class="game-grid">
            <div class="left-column">
              <div class="tray-card">
                <div class="tray-title">Remaining Items</div>
                <div class="tray" id="tray"></div>
                <div class="hint-row" id="hintRow"></div>
              </div>
            </div>

            <div class="right-column">
              <div class="timeline-card">
                <div class="timeline-label" id="upperLabel">Upper</div>
                <div class="timeline" id="timeline"></div>
                <div class="timeline-label" id="lowerLabel">Lower</div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <dialog id="errorModal" class="modal">
        <div class="modal-content">
          <h3>Invalid File</h3>
          <p id="errorMessage">The uploaded file format is invalid.</p>
          <div class="modal-actions">
            <button id="closeErrorBtn" class="btn primary">Close</button>
          </div>
        </div>
      </dialog>

      <script>
        // Embedded manifest and quizzes to allow offline (file://) carousel
        window.EMBEDDED_MANIFEST = [
          { "path": "quizzes/earnings_movies.json", "title": "Movie Box Office (Top Earnings)" },
          { "path": "quizzes/selled_music_albums.json", "title": "Best-Selling Music Albums" },
          { "path": "quizzes/bundesliga2024.json", "title": "Bundesliga 2024" },
          { "path": "quizzes/countries_goldmedals.json", "title": "Olympic Gold Medals by Country" },
          { "path": "quizzes/chess_worldchampions.json", "title": "Chess World Champions" },
          { "path": "quizzes/history_events.json", "title": "World History Events" },
          { "path": "quizzes/country_populations.json", "title": "Country Populations" }
        ];
        window.EMBEDDED_QUIZZES = {
          "quizzes/earnings_movies.json": {"title":"Highest-Grossing Movies","lowerLabel":"Lower Earnings","upperLabel":"Highest Earnings","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["The Lion King (2019)","Jurassic World","Spider-Man: No Way Home","Avengers: Infinity War","Star Wars: The Force Awakens","Titanic","Avatar: The Way of Water","Avengers: Endgame","Avatar"]},
          "quizzes/selled_music_albums.json": {"title":"Best Selling Music Albums","lowerLabel":"Fewer Sales","upperLabel":"Most Sales","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["Come On Over - Shania Twain","Rumours - Fleetwood Mac","Saturday Night Fever - Bee Gees","Their Greatest Hits - Eagles","Back in Black - AC/DC","The Dark Side of the Moon - Pink Floyd","The Bodyguard (Soundtrack) - Whitney Houston","Thriller - Michael Jackson"]},
          "quizzes/bundesliga2024.json": {"title":"Bundesliga 2023/24 Rankings","lowerLabel":"Lower Rank","upperLabel":"Champion","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["VfL Bochum","Holstein Kiel","1. FC Heidenheim","TSG 1899 Hoffenheim","FC St. Pauli","1. FC Union Berlin","FC Augsburg","VfL Wolfsburg","Borussia M√∂nchengladbach","VfB Stuttgart","Werder Bremen","RB Leipzig","1. FSV Mainz 05","SC Freiburg","Borussia Dortmund","Eintracht Frankfurt","Bayer 04 Leverkusen","FC Bayern M√ºnchen"]},
          "quizzes/countries_goldmedals.json": {"title":"Countries with Most Olympic Gold Medals","lowerLabel":"Fewer Gold Medals","upperLabel":"Most Gold Medals","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["Hungary","Netherlands","Japan","China","France","Germany","Italy","Sweden","Russia","Great Britain","United States"]},
          "quizzes/chess_worldchampions.json": {"title":"Chess World Champions","lowerLabel":"Earliest","upperLabel":"Most recent","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["Wilhelm Steinitz","Emanuel Lasker","Jos√© Ra√∫l Capablanca","Alexander Alekhine","Max Euwe","Mikhail Botvinnik","Vasily Smyslov","Mikhail Tal","Tigran Petrosian","Boris Spassky","Bobby Fischer","Anatoly Karpov","Garry Kasparov","Vladimir Kramnik","Viswanathan Anand","Magnus Carlsen","Ding Liren","Gukesh Dommaraju"]},
          "quizzes/history_events.json": {"title":"Famous history events","lowerLabel":"Early","upperLabel":"Modern","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["Birth of major civilizations","Ancient Egypt builds pyramids","Code of Hammurabi created","Roman Empire rises","Spread of Christianity","Islam founded","Mongol Empire expands","Black Death in Europe","Renaissance begins","Columbus discovers America","Protestant Reformation","Industrial Revolution","American Revolution","French Revolution","World War I","Russian Revolution","World War II","United Nations founded","Moon landing","Internet age begins"]},
          "quizzes/country_populations.json": {"title":"Country populations","lowerLabel":"Small","upperLabel":"Big","_hint":"List at least 2 items from lowerLabel ‚Üí upperLabel. Max 20 items.","items":["Bangladesh","Brazil","Ethiopia","DR Congo","Nigeria","Pakistan","Indonesia","United States","China","India"]}
        };
      </script>
      <script src="./app.js"></script>
    </div>
  </body>
</html> 